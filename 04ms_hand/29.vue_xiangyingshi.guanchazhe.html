<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
  <script>
           // 这里会展示 vue 响应式原理第三部分内容  观察者模式
           // 演示部分
    function Observer() {
         this.dep = [];

         register(fn) {
           this.dep.push(fn)
         }

         notify() {
           this.dep.forEach(item => item())
         }
       }

       const wantCake = new Oberver();
       // 每来一个顾客就注册一个想执行的函数
       wantCake.register(() => {'console.log("call daisy")'})
       wantCake.register(() => {'console.log("call anny")'})
       wantCake.register(() => {'console.log("call sunny")'})

       // 最后蛋糕做好之后，通知所有的客户
       wantCake.notify()
  </script>
</html>
