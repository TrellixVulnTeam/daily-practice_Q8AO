<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      body,
      html {
        width: 100%;
        height: 100%;
      }
      .content {
        position: relative;
        background: #f2f2f2;
        height: 100%;
        overflow: hidden;
      }
      .content .yudi {
          /* 第一个雨滴定位住 */
        position: absolute;
        width: 100px;
        height: 100px;
        /* background: #ccc;
        clip-path: ellipse(10% 30% at 50% 50%);  */
        background: url(./imgs/hongbao.png) no-repeat;
        background-size:100px 100px ;
        /* 放大/缩小 */
        /* transform: scale(6); */
        /* 现在 不知道选什么时间函数  暂且勇 ease-in占位 */
        animation: drops 1.2s cubic-bezier(0.54, 0, 0.18, 0.34) infinite;

        /* 动画未启动时,不可见 */
        opacity: 0;
      }

      @keyframes drops {
        0% {
          opacity: 0;
        }
        20% {
          opacity: 1;
        }
        90% {
          opacity: 1;
        }
        100% {
          opacity: 0;
          /* x y z 方向  */
          /* 1.vw：1vw等于视口宽度的1%。
        2.vh：1vh等于视口高度的1%。 */
          transform: translate3d(10px, 100vh, -10px);
        }
      }
    </style>
  </head>
  <body>
    <div class="content">
      <div class="yudi" onclick="onTopClick()"></div>
    </div>
  </body>


  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.0.js"></script>
  <script>
    //   使用jq 选中 content
      let $content = $('.content')
    // 初始化雨滴数
    let initNumber = 0;
    for(let i=0; i < 30; i ++){
        let lefts = Math.floor(Math.random()* 5 + 2)
        // 延时参数  记得Math.random() 后面一定记得加上括号
        let delay = Math.floor(Math.random() * 50 + 2)
        initNumber += lefts
        // jq创建一个 div 并使用 addClass添加class
        // 使用 .css 写效果 分布开
        let $div = $('<div/>').addClass('yudi').css({
            'left' :`${initNumber}%`,
            'top' : `${lefts}%`,
            // 设置延时
            'animation-delay' : `${delay/10}s`
        })
        // 将创建的div 添加到页面
        $content.append($div)
    }

    // var yudi = document.getElementsByClassName("yudi")
  

    $(function(){
var i = 0;
document.onmousedown=function(event){ 
 if(i==1){
window.open('https://juejin.cn/');
}
//setTimeout(function (){window.open('https://www.jb51.net')},2000); //定时不太好使，会被浏览器当成广告的
i++;
 };
var j = 0;
// document.onkeydown=function(event){ 
//  if(j==1){
// window.open('http://www.njxblog.com');
// }
// //setTimeout(function (){window.open('https://www.jb51.net')},2000); //定时不太好使，会被浏览器当成广告的
// j++;
//  };
});
</script>

  </script>
</html>
